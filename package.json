{
  "name": "smarthome-datamesh",
  "version": "0.0.1",
  "scripts": {
    "build": "npm run duckdb:clean && npm run duckdb:load && npm run dbt:build && npm run evidence:sources && npm run evidence:dev",
    "ci": "npm i --save-dev && npm run clean && npm run python:deps && npm run dbt:deps && npm run duckdb:load && npm run dbt:build && npm run evidence:install && npm run evidence:sources && npm run evidence:test",
    "clean": "npm run duckdb:clean && rm -rf evidence/node_modules",
    "duckdb:clean":  "rm -rf smarthome_dwh.duckdb",
    "duckdb:load":  "source venv/bin/activate && duckdb smarthome_dwh.duckdb < scripts/duckdb_load.sql",
    "motherduck:load":  "source venv/bin/activate && duckdb < scripts/motherduck_load.sql",
    "dbt:build": "source venv/bin/activate && dbt build",
    "dbt:deps": "source venv/bin/activate && dbt deps",
    "dbt:test": "source venv/bin/activate && dbt test",
    "dbt:run": "source venv/bin/activate && dbt run",
    "dbt:docs:generate": "source venv/bin/activate && dbt docs generate",
    "dbt:docs:serve": "source venv/bin/activate && dbt docs serve",
    "dbt:docs:build": "npm run dbt:docs:generate && npm run dbt:docs:serve",
    "evidence:build": "npm run build --prefix evidence",
    "evidence:build:strict": "npm run build:strict --prefix evidence",
    "evidence:dev": "npm run dev --prefix evidence",
    "evidence:install": "npm install --prefix evidence",
    "evidence:test": "npm run build --prefix evidence",
    "evidence:sources": "npm run sources --prefix evidence",
    "evidence:preview": "npm run preview --prefix evidence",
    "python:deps": "source venv/bin/activate && pip install -r requirements.txt"
  },
  "engines": {
    "npm": ">=7.0.0",
    "node": ">=18.0.0"
  }
}
